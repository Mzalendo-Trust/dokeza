(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{29:function(e,t,c){},89:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(0),r=c(17),s=c.n(r),i=c(9),l=c(44),j=c(42),o=c(5),d=(c(50),c(29),c(10)),b=c(25),u=c(13),O=c.n(u),h=c(41),x=c.n(h),f=c(18),m=c.n(f),p={v:"VERTICAL",va:"VERTICAL_ALTERNATING",h:"HORIZONTAL"},g="",v={option:function(e,t){return Object(i.a)(Object(i.a)({},e),{},{cursor:"pointer"})},control:function(e){return Object(i.a)(Object(i.a)({},e),{},{cursor:"pointer"})}},S=c(20),k=function(e){var t=e.onChange,c=Object(a.useState)([]),r=Object(d.a)(c,2),s=r[0],i=r[1];"".concat(g,"/api/tracker/");return Object(a.useEffect)((function(){O.a.get("/api/tracker/bills").then((function(e){i(e.data.map((function(e){return{value:e.id,label:e.title}})))})).catch((function(e){return console.log(e)}))}),[]),Object(n.jsx)(S.a,{menuPortalTarget:document.querySelector("body"),placeholder:"Select Bill...",options:s,onChange:t,styles:v})},B=function(){return Object(n.jsx)("center",{children:Object(n.jsx)("div",{className:"loading",children:Object(n.jsxs)("h6",{children:[Object(n.jsx)("span",{children:"L"}),Object(n.jsx)("span",{children:"o"}),Object(n.jsx)("span",{children:"a"}),Object(n.jsx)("span",{children:"d"}),Object(n.jsx)("span",{children:"i"}),Object(n.jsx)("span",{children:"n"}),Object(n.jsx)("span",{children:"g"}),Object(n.jsx)("span",{children:"."}),Object(n.jsx)("span",{children:"."}),Object(n.jsx)("span",{children:"."})]})})})},y=c(19),D=c.n(y);m.a.extend(D.a);var N=function(e){var t=Object(a.useState)([]),c=Object(d.a)(t,2),r=c[0],s=c[1],i=Object(a.useState)([]),l=Object(d.a)(i,2),j=l[0],o=l[1],u=Object(a.useState)({}),h=Object(d.a)(u,2),f=h[0],v=h[1],S=Object(a.useState)(),y=Object(d.a)(S,2),D=y[0],N=y[1],A=Object(a.useState)(!0),C=Object(d.a)(A,2),F=C[0],T=C[1],w="".concat(g,"/api/tracker/list"),E=function(e){return{bill_id:e.bill,title:m()(e.stage_date).format("Do MMM YYYY"),cardSubtitle:Object(n.jsx)("a",{href:"".concat(g,"/bills/").concat(e.bill_slug),children:e.bill_name}),cardDetailedText:Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("b",{children:e.stage}),Object(n.jsx)("br",{}),e.details,Object(n.jsx)("hr",{}),Object(n.jsxs)("i",{children:["sponsor: ",e.bill_sponsor]}),Object(n.jsx)("br",{}),e.bill_purpose]})}};return Object(a.useEffect)((function(){O.a.get(w).then((function(e){var t=e.data.map(E);s(t),o(t),T(!1)})).catch((function(e){return console.log("Tracker: ",e)}))}),[]),Object(a.useEffect)((function(){var t=e.selBill?e.selBill.value:f.value;o(r.filter((function(e){return e.bill_id==t}))),N(Object(n.jsx)(n.Fragment,{}))}),[f,e.selBill]),Object(a.useEffect)((function(){e.performedAjax&&O.a.get(w).then((function(t){var c=t.data.map(E);s(c),v(e.selBill),e.setPerformedAjax&&e.setPerformedAjax(!1)})).catch((function(e){return console.log(e)}))}),[e.performedAjax]),Object(a.useEffect)((function(){e.hideInitBills&&x.a.isEmpty(e.selBill)?N(Object(n.jsx)(n.Fragment,{})):j.length>0&&N(Object(n.jsx)(b.a,{items:j,slideShow:!0,slideItemDuration:2500,scrollable:!0,mode:p[e.chronoMode?e.chronoMode:"va"]}))}),[j]),F?Object(n.jsx)(B,{}):Object(n.jsxs)(n.Fragment,{children:[!e.hideBillSelector&&Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-10",children:Object(n.jsx)(k,{onChange:function(e){v(e)}})}),Object(n.jsx)("div",{className:"col-md-2",children:Object(n.jsx)("button",{className:"btn btn-info",onClick:function(){N(Object(n.jsx)(n.Fragment,{})),o(r)},children:"Refresh"})})]}),j&&j.length>0&&D,Object(n.jsxs)("h1",{style:{color:"#D6DBDF",textAlign:"center",display:j.length>0&&"none"},children:["\u4e41( \u2070\u0361  \u0139\u032f \u2070\u0361 ) \u310f",Object(n.jsx)("br",{}),"No Data"]})]})},A=c(90),C=c(91),F=c(92),T=c(93),w=function(e){var t=Object(a.useState)({}),c=Object(d.a)(t,2),r=c[0],s=c[1],l="".concat(g,"/api/tracker/"),j=function(e){e.preventDefault(),O.a.post(l,r).then((function(e){return console.log("saved")}))};return Object(n.jsxs)("form",{onSubmit:function(t){return e.submitForm?e.submitForm(t,r):j},ref:e.formRef,children:[Object(n.jsxs)(A.a,{children:[Object(n.jsx)(C.a,{children:"Bill"}),Object(n.jsx)(k,{onChange:function(t){s(Object(i.a)(Object(i.a)({},r),{},{bill:t.value})),e.setSelBill&&e.setSelBill(t),e.setPerformedAjax&&e.setPerformedAjax(!1)}})]}),Object(n.jsxs)(A.a,{children:[Object(n.jsx)(C.a,{children:"Stage"}),Object(n.jsx)(S.a,{styles:v,placeholder:"Stage...",options:["First reading","Second reading","Committee Stage","Third Reading","Presidential Assent"].map((function(e){return{value:e,label:e}})),onChange:function(e){s(Object(i.a)(Object(i.a)({},r),{},{stage:e.value}))}})]}),Object(n.jsxs)(A.a,{children:[Object(n.jsx)(C.a,{children:"Publication Date"}),Object(n.jsx)(F.a,{type:"date",onChange:function(e){return s(Object(i.a)(Object(i.a)({},r),{},{stage_date:e.target.value}))}})]}),Object(n.jsxs)(A.a,{children:[Object(n.jsx)(C.a,{children:"Description"}),Object(n.jsx)(F.a,{placeholder:"further description...",type:"textarea",onChange:function(e){return s(Object(i.a)(Object(i.a)({},r),{},{details:e.target.value}))}})]}),Object(n.jsx)(A.a,{children:Object(n.jsx)(T.a,{outline:!0,color:"success",children:"Save"})})]})},E=function(){var e=Object(a.useState)(),t=Object(d.a)(e,2),c=(t[0],t[1],Object(a.useState)({})),r=Object(d.a)(c,2),s=r[0],i=r[1],l=Object(a.useState)(!1),j=Object(d.a)(l,2),o=j[0],b=j[1],u="".concat(g,"/api/tracker/create");return Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-6",children:Object(n.jsx)(w,{submitForm:function(e,t){e.preventDefault();var c=document.head.querySelector('meta[name="csrf-token"]');c&&(O.a.defaults.headers.common["X-CSRFToken"]=c.content),O.a.post(u,t).then((function(e){b(!0),i({value:t.bill})}))},setSelBill:i,setPerformedAjax:b})}),Object(n.jsx)("div",{className:"col-md-6",children:Object(n.jsx)(N,{selBill:s,performedAjax:o,setPerformedAjax:b,hideBillSelector:!0,chronoMode:"v",hideInitBills:!0})})]})},P=c(94);m.a.extend(D.a);var _=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),c=t[0],r=t[1],s=Object(a.useState)(!0),i=Object(d.a)(s,2),l=i[0],j=i[1],o="".concat(g,"/api/tracker/list");return Object(a.useEffect)((function(){O.a.get(o).then((function(e){var t=e.data.map((function(e){return{bill_id:e.bill,title:m()(e.stage_date).format("MMMM Do, YYYY"),cardSubtitle:e.bill_name,cardDetailedText:e.details}}));r(t),j(!1)})).catch((function(e){return console.log(e)}))}),[]),l?Object(n.jsx)(B,{}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(T.a,{color:"warning",size:"sm",className:"float-right",onClick:function(){var e=window.open("","my div","height=400,width=1200");e.document.write('<html><head><title>Bills Report</title><link rel="stylesheet" href="/static/dist/css/dokeza.css">'),e.document.write('</head><body><div class="container-fluid">'),e.document.write(document.getElementById("rpt").innerHTML),e.document.write("</div></body></html>"),e.document.close(),setTimeout((function(){e.print()}),1e3)},children:[Object(n.jsx)("i",{className:"fa fa-print","aria-hidden":"true"})," Print"]}),Object(n.jsx)("br",{}),Object(n.jsxs)("div",{id:"rpt",children:[Object(n.jsx)("link",{rel:"stylesheet",href:"/static/dist/css/dokeza.css"}),Object(n.jsxs)(P.a,{hover:!0,bordered:!0,children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Date"}),Object(n.jsx)("th",{children:"Bill"}),Object(n.jsx)("th",{children:"Details"})]})}),Object(n.jsx)("tbody",{children:c&&c.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:e.title}),Object(n.jsx)("td",{children:e.cardSubtitle}),Object(n.jsx)("td",{children:e.cardDetailedText})]})}))})]})]})]})},I=function(){return Object(n.jsx)(j.a,{children:Object(n.jsx)("div",{className:"container-width",children:Object(n.jsx)("div",{className:"row mt-5",children:Object(n.jsx)("div",{className:"col-md-12",children:Object(n.jsxs)(o.d,{children:[Object(n.jsx)(M,{exact:!0,path:"/tracker/add",component:E}),Object(n.jsx)(o.b,{exact:!0,path:"/tracker/",children:Object(n.jsx)(N,{})}),Object(n.jsx)(o.b,{exact:!0,path:"/tracker/report",component:_})]})})})})})},M=function(e){var t=e.component,c=Object(l.a)(e,["component"]),a=sessionStorage.getItem("uemail");return Object(n.jsx)(o.b,Object(i.a)(Object(i.a)({},c),{},{render:function(e){return a&&""!=a?Object(n.jsx)(t,Object(i.a)({},e)):Object(n.jsx)(o.a,{to:{pathname:"/tracker/"}})}}))},R=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,95)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))};s.a.render(Object(n.jsx)(I,{}),document.getElementById("root")),R()}},[[89,1,2]]]);
//# sourceMappingURL=main.0dd3c739.chunk.js.map