(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{95:function(e,t,c){"use strict";c.r(t);var n=c(2),a=c(0),r=c(17),i=c.n(r),s=(c(53),c(7)),l=c(47),o=c(45),j=c(5),d=(c(54),c(8)),b=c(29),u={v:"VERTICAL",va:"VERTICAL_ALTERNATING",h:"HORIZONTAL"},h="",O={option:function(e,t){return Object(s.a)(Object(s.a)({},e),{},{cursor:"pointer"})},control:function(e){return Object(s.a)(Object(s.a)({},e),{},{cursor:"pointer"})}},f=c(12),m=c.n(f),x=c(24),g=function(e){var t=e.onChange,c=Object(a.useState)([]),r=Object(d.a)(c,2),i=r[0],s=r[1];"".concat(h,"/api/tracker/");return Object(a.useEffect)((function(){m.a.get("/api/tracker/bills").then((function(e){s(e.data.map((function(e){return{value:e.id,label:e.title}})))})).catch((function(e){return console.log(e)}))}),[]),Object(n.jsx)(x.a,{placeholder:"Select Bill...",options:i,onChange:t,styles:O})},p=c(44),v=c.n(p),S=c(20),y=c.n(S),A=c(22),B=c.n(A);y.a.extend(B.a);var k=function(e){var t=Object(a.useState)([]),c=Object(d.a)(t,2),r=c[0],i=c[1],s=Object(a.useState)([]),l=Object(d.a)(s,2),o=l[0],j=l[1],O=Object(a.useState)({}),f=Object(d.a)(O,2),x=f[0],p=f[1],S=Object(a.useState)(),A=Object(d.a)(S,2),B=A[0],k=A[1],D="".concat(h,"/api/tracker/list"),F=function(e){return{bill_id:e.bill,title:y()(e.stage_date).format("Do MMM YYYY"),cardSubtitle:Object(n.jsx)("a",{href:"".concat(h,"/bills/").concat(e.bill_slug),children:e.bill_name}),cardDetailedText:Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("b",{children:e.stage}),Object(n.jsx)("br",{}),e.details]})}};return Object(a.useEffect)((function(){m.a.get(D).then((function(e){var t=e.data.map(F);i(t),j(t)})).catch((function(e){return console.log(e)}))}),[]),Object(a.useEffect)((function(){var t=e.selBill?e.selBill.value:x.value;j(r.filter((function(e){return e.bill_id==t}))),k(Object(n.jsx)(n.Fragment,{}))}),[x,e.selBill]),Object(a.useEffect)((function(){e.performedAjax&&m.a.get(D).then((function(t){var c=t.data.map(F);i(c),p(e.selBill),e.setPerformedAjax&&e.setPerformedAjax(!1)})).catch((function(e){return console.log(e)}))}),[e.performedAjax]),Object(a.useEffect)((function(){e.hideInitBills&&v.a.isEmpty(e.selBill)?k(Object(n.jsx)(n.Fragment,{})):o.length>0&&k(Object(n.jsx)(b.a,{items:o,slideShow:!0,slideItemDuration:2500,scrollable:!0,mode:u[e.chronoMode?e.chronoMode:"va"]}))}),[o]),Object(n.jsxs)(n.Fragment,{children:[!e.hideBillSelector&&Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-10",children:Object(n.jsx)(g,{onChange:function(e){p(e)}})}),Object(n.jsx)("div",{className:"col-md-2",children:Object(n.jsx)("button",{className:"btn btn-info",onClick:function(){k(Object(n.jsx)(n.Fragment,{})),j(r)},children:"Refresh"})})]}),o&&o.length>0&&B,Object(n.jsxs)("h1",{style:{color:"#D6DBDF",textAlign:"center",display:o.length>0&&"none"},children:["\u4e41( \u2070\u0361  \u0139\u032f \u2070\u0361 ) \u310f",Object(n.jsx)("br",{}),"No Data"]})]})},D=c(96),F=c(97),N=c(98),C=c(99),E=function(e){var t=Object(a.useState)({}),c=Object(d.a)(t,2),r=c[0],i=c[1],l="".concat(h,"/api/tracker/"),o=function(e){e.preventDefault(),m.a.post(l,r).then((function(e){return console.log("saved")}))};return Object(n.jsxs)("form",{onSubmit:function(t){return e.submitForm?e.submitForm(t,r):o},ref:e.formRef,children:[Object(n.jsxs)(D.a,{children:[Object(n.jsx)(F.a,{children:"Bill"}),Object(n.jsx)(g,{onChange:function(t){i(Object(s.a)(Object(s.a)({},r),{},{bill:t.value})),e.setSelBill&&e.setSelBill(t),e.setPerformedAjax&&e.setPerformedAjax(!1)}})]}),Object(n.jsxs)(D.a,{children:[Object(n.jsx)(F.a,{children:"Stage"}),Object(n.jsx)(x.a,{styles:O,placeholder:"Stage...",options:["First reading","Second reading","Committee Stage","Third Reading","Presidential Assent"].map((function(e){return{value:e,label:e}})),onChange:function(e){i(Object(s.a)(Object(s.a)({},r),{},{stage:e.value}))}})]}),Object(n.jsxs)(D.a,{children:[Object(n.jsx)(F.a,{children:"Publication Date"}),Object(n.jsx)(N.a,{type:"date",onChange:function(e){return i(Object(s.a)(Object(s.a)({},r),{},{stage_date:e.target.value}))}})]}),Object(n.jsxs)(D.a,{children:[Object(n.jsx)(F.a,{children:"Description"}),Object(n.jsx)(N.a,{placeholder:"further description...",type:"textarea",onChange:function(e){return i(Object(s.a)(Object(s.a)({},r),{},{details:e.target.value}))}})]}),Object(n.jsx)(D.a,{children:Object(n.jsx)(C.a,{outline:!0,color:"success",children:"Save"})})]})},I=function(){var e=Object(a.useState)(),t=Object(d.a)(e,2),c=(t[0],t[1],Object(a.useState)({})),r=Object(d.a)(c,2),i=r[0],s=r[1],l=Object(a.useState)(!1),o=Object(d.a)(l,2),j=o[0],b=o[1],u="".concat(h,"/api/tracker/create");return Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-6",children:Object(n.jsx)(E,{submitForm:function(e,t){e.preventDefault();var c=document.head.querySelector('meta[name="csrf-token"]');c&&(m.a.defaults.headers.common["X-CSRFToken"]=c.content),m.a.post(u,t).then((function(e){b(!0),s({value:t.bill})})),console.log(t)},setSelBill:s,setPerformedAjax:b})}),Object(n.jsx)("div",{className:"col-md-6",children:Object(n.jsx)(k,{selBill:i,performedAjax:j,setPerformedAjax:b,hideBillSelector:!0,chronoMode:"v",hideInitBills:!0})})]})},T=c(100);y.a.extend(B.a);var w=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),c=t[0],r=t[1],i="".concat(h,"/api/tracker/list");return Object(a.useEffect)((function(){m.a.get(i).then((function(e){var t=e.data.map((function(e){return{bill_id:e.bill,title:y()(e.stage_date).format("MMMM Do, YYYY"),cardSubtitle:e.bill_name,cardDetailedText:e.details}}));r(t)})).catch((function(e){return console.log(e)}))}),[]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(C.a,{color:"warning",size:"sm",className:"float-right",onClick:function(){var e=window.open("","my div","height=400,width=1200");e.document.write('<html><head><title>Bills Report</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">'),e.document.write('</head><body><div class="container-fluid">'),e.document.write(document.getElementById("rpt").innerHTML),e.document.write("</div></body></html>"),e.document.close(),setTimeout((function(){e.print()}),1e3)},children:[Object(n.jsx)("i",{className:"fa fa-print","aria-hidden":"true"})," Print"]}),Object(n.jsx)("br",{}),Object(n.jsxs)("div",{id:"rpt",children:[Object(n.jsx)("link",{rel:"stylesheet",href:"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css",integrity:"sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm",crossorigin:"anonymous"}),Object(n.jsxs)(T.a,{hover:!0,bordered:!0,children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Date"}),Object(n.jsx)("th",{children:"Bill"}),Object(n.jsx)("th",{children:"Details"})]})}),Object(n.jsx)("tbody",{children:c&&c.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:e.title}),Object(n.jsx)("td",{children:e.cardSubtitle}),Object(n.jsx)("td",{children:e.cardDetailedText})]})}))})]})]})]})},P=function(){return Object(n.jsx)(o.a,{children:Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsx)("div",{className:"row mt-5",children:Object(n.jsx)("div",{className:"col-md-12",children:Object(n.jsxs)(j.d,{children:[Object(n.jsx)(M,{exact:!0,path:"/tracker/add",component:I}),Object(n.jsx)(j.b,{exact:!0,path:"/tracker/",children:Object(n.jsx)(k,{})}),Object(n.jsx)(j.b,{exact:!0,path:"/tracker/report",component:w})]})})})})})},M=function(e){var t=e.component,c=Object(l.a)(e,["component"]),a=sessionStorage.getItem("uemail");return Object(n.jsx)(j.b,Object(s.a)(Object(s.a)({},c),{},{render:function(e){return a&&""!=a?Object(n.jsx)(t,Object(s.a)({},e)):Object(n.jsx)(j.a,{to:{pathname:"/tracker/"}})}}))},R=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,101)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;c(e),n(e),a(e),r(e),i(e)}))};i.a.render(Object(n.jsx)(P,{}),document.getElementById("root")),R()}},[[95,1,2]]]);
//# sourceMappingURL=main.c98b9fdc.chunk.js.map