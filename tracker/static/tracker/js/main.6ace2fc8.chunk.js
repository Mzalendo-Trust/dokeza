(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{33:function(e,t,c){},96:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(0),r=c(17),s=c.n(r),i=(c(54),c(7)),l=c(48),o=c(46),j=c(5),d=(c(55),c(33),c(8)),b=c(29),u=c(12),O=c.n(u),h=c(45),x=c.n(h),f=c(20),m=c.n(f),p={v:"VERTICAL",va:"VERTICAL_ALTERNATING",h:"HORIZONTAL"},g="",v={option:function(e,t){return Object(i.a)(Object(i.a)({},e),{},{cursor:"pointer"})},control:function(e){return Object(i.a)(Object(i.a)({},e),{},{cursor:"pointer"})}},S=c(24),y=function(e){var t=e.onChange,c=Object(a.useState)([]),r=Object(d.a)(c,2),s=r[0],i=r[1];"".concat(g,"/api/tracker/");return Object(a.useEffect)((function(){O.a.get("/api/tracker/bills").then((function(e){i(e.data.map((function(e){return{value:e.id,label:e.title}})))})).catch((function(e){return console.log(e)}))}),[]),Object(n.jsx)(S.a,{placeholder:"Select Bill...",options:s,onChange:t,styles:v})},A=function(){return Object(n.jsx)("center",{children:Object(n.jsx)("div",{className:"loading",children:Object(n.jsxs)("h6",{children:[Object(n.jsx)("span",{children:"L"}),Object(n.jsx)("span",{children:"o"}),Object(n.jsx)("span",{children:"a"}),Object(n.jsx)("span",{children:"d"}),Object(n.jsx)("span",{children:"i"}),Object(n.jsx)("span",{children:"n"}),Object(n.jsx)("span",{children:"g"}),Object(n.jsx)("span",{children:"."}),Object(n.jsx)("span",{children:"."}),Object(n.jsx)("span",{children:"."})]})})})},B=c(22),k=c.n(B);m.a.extend(k.a);var D=function(e){var t=Object(a.useState)([]),c=Object(d.a)(t,2),r=c[0],s=c[1],i=Object(a.useState)([]),l=Object(d.a)(i,2),o=l[0],j=l[1],u=Object(a.useState)({}),h=Object(d.a)(u,2),f=h[0],v=h[1],S=Object(a.useState)(),B=Object(d.a)(S,2),k=B[0],D=B[1],F=Object(a.useState)(!0),N=Object(d.a)(F,2),T=N[0],w=N[1],C="".concat(g,"/api/tracker/list"),E=function(e){return{bill_id:e.bill,title:m()(e.stage_date).format("Do MMM YYYY"),cardSubtitle:Object(n.jsx)("a",{href:"".concat(g,"/bills/").concat(e.bill_slug),children:e.bill_name}),cardDetailedText:Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("b",{children:e.stage}),Object(n.jsx)("br",{}),e.details,Object(n.jsx)("hr",{}),Object(n.jsxs)("i",{children:["sponsor: ",e.bill_sponsor]}),Object(n.jsx)("br",{}),e.bill_purpose]})}};return Object(a.useEffect)((function(){O.a.get(C).then((function(e){var t=e.data.map(E);s(t),j(t),w(!1)})).catch((function(e){return console.log("Tracker: ",e)}))}),[]),Object(a.useEffect)((function(){var t=e.selBill?e.selBill.value:f.value;j(r.filter((function(e){return e.bill_id==t}))),D(Object(n.jsx)(n.Fragment,{}))}),[f,e.selBill]),Object(a.useEffect)((function(){e.performedAjax&&O.a.get(C).then((function(t){var c=t.data.map(E);s(c),v(e.selBill),e.setPerformedAjax&&e.setPerformedAjax(!1)})).catch((function(e){return console.log(e)}))}),[e.performedAjax]),Object(a.useEffect)((function(){e.hideInitBills&&x.a.isEmpty(e.selBill)?D(Object(n.jsx)(n.Fragment,{})):o.length>0&&D(Object(n.jsx)(b.a,{items:o,slideShow:!0,slideItemDuration:2500,scrollable:!0,mode:p[e.chronoMode?e.chronoMode:"va"]}))}),[o]),T?Object(n.jsx)(A,{}):Object(n.jsxs)(n.Fragment,{children:[!e.hideBillSelector&&Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-10",children:Object(n.jsx)(y,{onChange:function(e){v(e)}})}),Object(n.jsx)("div",{className:"col-md-2",children:Object(n.jsx)("button",{className:"btn btn-info",onClick:function(){D(Object(n.jsx)(n.Fragment,{})),j(r)},children:"Refresh"})})]}),o&&o.length>0&&k,Object(n.jsxs)("h1",{style:{color:"#D6DBDF",textAlign:"center",display:o.length>0&&"none"},children:["\u4e41( \u2070\u0361  \u0139\u032f \u2070\u0361 ) \u310f",Object(n.jsx)("br",{}),"No Data"]})]})},F=c(97),N=c(98),T=c(99),w=c(100),C=function(e){var t=Object(a.useState)({}),c=Object(d.a)(t,2),r=c[0],s=c[1],l="".concat(g,"/api/tracker/"),o=function(e){e.preventDefault(),O.a.post(l,r).then((function(e){return console.log("saved")}))};return Object(n.jsxs)("form",{onSubmit:function(t){return e.submitForm?e.submitForm(t,r):o},ref:e.formRef,children:[Object(n.jsxs)(F.a,{children:[Object(n.jsx)(N.a,{children:"Bill"}),Object(n.jsx)(y,{onChange:function(t){s(Object(i.a)(Object(i.a)({},r),{},{bill:t.value})),e.setSelBill&&e.setSelBill(t),e.setPerformedAjax&&e.setPerformedAjax(!1)}})]}),Object(n.jsxs)(F.a,{children:[Object(n.jsx)(N.a,{children:"Stage"}),Object(n.jsx)(S.a,{styles:v,placeholder:"Stage...",options:["First reading","Second reading","Committee Stage","Third Reading","Presidential Assent"].map((function(e){return{value:e,label:e}})),onChange:function(e){s(Object(i.a)(Object(i.a)({},r),{},{stage:e.value}))}})]}),Object(n.jsxs)(F.a,{children:[Object(n.jsx)(N.a,{children:"Publication Date"}),Object(n.jsx)(T.a,{type:"date",onChange:function(e){return s(Object(i.a)(Object(i.a)({},r),{},{stage_date:e.target.value}))}})]}),Object(n.jsxs)(F.a,{children:[Object(n.jsx)(N.a,{children:"Description"}),Object(n.jsx)(T.a,{placeholder:"further description...",type:"textarea",onChange:function(e){return s(Object(i.a)(Object(i.a)({},r),{},{details:e.target.value}))}})]}),Object(n.jsx)(F.a,{children:Object(n.jsx)(w.a,{outline:!0,color:"success",children:"Save"})})]})},E=function(){var e=Object(a.useState)(),t=Object(d.a)(e,2),c=(t[0],t[1],Object(a.useState)({})),r=Object(d.a)(c,2),s=r[0],i=r[1],l=Object(a.useState)(!1),o=Object(d.a)(l,2),j=o[0],b=o[1],u="".concat(g,"/api/tracker/create");return Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-6",children:Object(n.jsx)(C,{submitForm:function(e,t){e.preventDefault();var c=document.head.querySelector('meta[name="csrf-token"]');c&&(O.a.defaults.headers.common["X-CSRFToken"]=c.content),O.a.post(u,t).then((function(e){b(!0),i({value:t.bill})}))},setSelBill:i,setPerformedAjax:b})}),Object(n.jsx)("div",{className:"col-md-6",children:Object(n.jsx)(D,{selBill:s,performedAjax:j,setPerformedAjax:b,hideBillSelector:!0,chronoMode:"v",hideInitBills:!0})})]})},I=c(101);m.a.extend(k.a);var P=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),c=t[0],r=t[1],s=Object(a.useState)(!0),i=Object(d.a)(s,2),l=i[0],o=i[1],j="".concat(g,"/api/tracker/list");return Object(a.useEffect)((function(){O.a.get(j).then((function(e){var t=e.data.map((function(e){return{bill_id:e.bill,title:m()(e.stage_date).format("MMMM Do, YYYY"),cardSubtitle:e.bill_name,cardDetailedText:e.details}}));r(t),o(!1)})).catch((function(e){return console.log(e)}))}),[]),l?Object(n.jsx)(A,{}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(w.a,{color:"warning",size:"sm",className:"float-right",onClick:function(){var e=window.open("","my div","height=400,width=1200");e.document.write('<html><head><title>Bills Report</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">'),e.document.write('</head><body><div class="container-fluid">'),e.document.write(document.getElementById("rpt").innerHTML),e.document.write("</div></body></html>"),e.document.close(),setTimeout((function(){e.print()}),1e3)},children:[Object(n.jsx)("i",{className:"fa fa-print","aria-hidden":"true"})," Print"]}),Object(n.jsx)("br",{}),Object(n.jsxs)("div",{id:"rpt",children:[Object(n.jsx)("link",{rel:"stylesheet",href:"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css",integrity:"sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm",crossorigin:"anonymous"}),Object(n.jsxs)(I.a,{hover:!0,bordered:!0,children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Date"}),Object(n.jsx)("th",{children:"Bill"}),Object(n.jsx)("th",{children:"Details"})]})}),Object(n.jsx)("tbody",{children:c&&c.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:e.title}),Object(n.jsx)("td",{children:e.cardSubtitle}),Object(n.jsx)("td",{children:e.cardDetailedText})]})}))})]})]})]})},M=function(){return Object(n.jsx)(o.a,{children:Object(n.jsx)("div",{className:"container-width",children:Object(n.jsx)("div",{className:"row mt-5",children:Object(n.jsx)("div",{className:"col-md-12",children:Object(n.jsxs)(j.d,{children:[Object(n.jsx)(_,{exact:!0,path:"/tracker/add",component:E}),Object(n.jsx)(j.b,{exact:!0,path:"/tracker/",children:Object(n.jsx)(D,{})}),Object(n.jsx)(j.b,{exact:!0,path:"/tracker/report",component:P})]})})})})})},_=function(e){var t=e.component,c=Object(l.a)(e,["component"]),a=sessionStorage.getItem("uemail");return Object(n.jsx)(j.b,Object(i.a)(Object(i.a)({},c),{},{render:function(e){return a&&""!=a?Object(n.jsx)(t,Object(i.a)({},e)):Object(n.jsx)(j.a,{to:{pathname:"/tracker/"}})}}))},R=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,102)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))};s.a.render(Object(n.jsx)(M,{}),document.getElementById("root")),R()}},[[96,1,2]]]);
//# sourceMappingURL=main.6ace2fc8.chunk.js.map